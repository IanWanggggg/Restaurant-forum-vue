(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-757b672c"],{"00b4":function(t,e,r){"use strict";r("ac1f");var a=r("23e7"),n=r("da84"),s=r("c65b"),i=r("e330"),o=r("1626"),l=r("861d"),c=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),u=n.Error,d=i(/./.test);a({target:"RegExp",proto:!0,forced:!c},{test:function(t){var e=this.exec;if(!o(e))return d(this,t);var r=s(e,this,t);if(null!==r&&!l(r))throw new u("RegExp exec method returned something other than an Object or null");return!!r}})},"107c":function(t,e,r){var a=r("d039"),n=r("da84"),s=n.RegExp;t.exports=a((function(){var t=s("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},1511:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container py-5"},[r("UserProfileCard",{attrs:{initialUser:t.user}}),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-4"},[r("UserFollowingsCard",{attrs:{initialFollowings:t.user.Followings}}),r("UserFollowersCard",{attrs:{initialFollowers:t.user.Followers}})],1),r("div",{staticClass:"col-md-8"},[r("UserCommentsCard",{attrs:{initialComments:t.user.Comments}}),r("UserFavoritedRestaurantsCard",{attrs:{initialFavoritedRestaurants:t.user.FavoritedRestaurants}})],1)])],1)},n=[],s=r("5530"),i=r("1da1"),o=(r("96cf"),r("b0c0"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row no-gutters"},[r("div",{staticClass:"col-md-4"},[r("img",{attrs:{src:t.user.image?t.user.image:"https://image.cache.storm.mg/styles/smg-800x533-fp/s3/media/image/2021/06/17/20210617-045327_U22834_M695876_d6f7.jpeg?itok=Nzun_aAN",width:"300px",height:"300px"}})]),r("div",{staticClass:"col-md-8"},[r("div",{staticClass:"card-body"},[r("h5",{staticClass:"card-title"},[t._v(t._s(t.user.name))]),r("p",{staticClass:"card-text"},[t._v(t._s(t.user.email))]),r("ul",{staticClass:"list-unstyled list-inline"},[r("li",[r("strong",[t._v(t._s(t.user.Comments.length))]),t._v(" 已評論餐廳 ")]),r("li",[r("strong",[t._v(t._s(t.user.FavoritedRestaurants.length))]),t._v(" 收藏的餐廳 ")]),r("li",[r("strong",[t._v(t._s(t.user.Followings.length))]),t._v(" followings (追蹤者) ")]),r("li",[r("strong",[t._v(t._s(t.user.Followers.length))]),t._v(" followers (追隨者) ")])]),r("p",[t.currentUser.id==t.user.id?r("router-link",{attrs:{to:{name:"user-edit",params:{id:t.currentUser.id}}}},[r("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("edit")])]):[t.user.isFollowed?r("button",{staticClass:"btn btn-danger",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteFollowing.apply(null,arguments)}}},[t._v(" 取消追蹤 ")]):r("button",{staticClass:"btn btn-primary",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addFollowing.apply(null,arguments)}}},[t._v(" 追蹤 ")])]],2)])])])}),l=[],c=(r("d9e2"),r("2f62")),u=r("2612"),d=r("dfd8"),f={props:{initialUser:{type:Object,required:!0}},data:function(){return{user:{id:-1,name:"",email:"",password:"",isAdmin:!1,image:"",createdAt:"",updatedAt:"",Comments:[],FavoritedRestaurants:[],Followers:[],Followings:[],isFollowed:!1}}},computed:Object(s["a"])({},Object(c["b"])(["currentUser"])),methods:{fetchUser:function(){this.user=Object(s["a"])(Object(s["a"])({},this.user),this.initialUser)},addFollowing:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u["a"].addFollowing({userId:t.user.id});case 3:if(r=e.sent,a=r.data,"success"===a.status){e.next=7;break}throw new Error(a.message);case 7:t.user.isFollowed=!0,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),d["a"].fire({icon:"error",title:"無法將使用者加入追蹤"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},deleteFollowing:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u["a"].removeFollowing({userId:t.user.id});case 3:if(r=e.sent,a=r.data,"success"===a.status){e.next=7;break}throw new Error(a.message);case 7:t.user.isFollowed=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),d["a"].fire({icon:"error",title:"無法將使用者移除追蹤"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}},created:function(){this.fetchUser()},watch:{initialUser:function(){this.fetchUser()}}},v=f,p=r("2877"),m=Object(p["a"])(v,o,l,!1,null,null,null),g=m.exports,h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[r("strong",[t._v(t._s(t.followings.length))]),t._v(" followings (追蹤者)")]),r("div",{staticClass:"card-body"},t._l(t.followings,(function(t){return r("router-link",{key:t.id,attrs:{to:{name:"user",params:{id:t.id}}}},[r("img",{staticClass:"avatar",attrs:{src:t.image,width:"60",height:"60"}})])})),1)])},w=[];function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function x(t){if(Array.isArray(t))return b(t)}r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("a630");function y(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}r("fb6a"),r("ac1f"),r("00b4");function C(t,e){if(t){if("string"===typeof t)return b(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(t,e):void 0}}function _(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function F(t){return x(t)||y(t)||C(t)||_()}r("99af");var R={props:{initialFollowings:{type:Array,required:!0}},data:function(){return{followings:this.initialFollowings}},watch:{initialFollowings:function(t){this.followings=[].concat(F(this.followings),F(t))}}},A=R,U=Object(p["a"])(A,h,w,!1,null,null,null),E=U.exports,k=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[r("strong",[t._v(t._s(t.followers.length))]),t._v(" followers (追隨者) ")]),r("div",{staticClass:"card-body"},t._l(t.followers,(function(t){return r("router-link",{key:t.id,attrs:{to:{name:"user",params:{id:t.id}}}},[r("img",{staticClass:"avatar",attrs:{src:t.image,width:"60",height:"60"}})])})),1)])},I=[],O={props:{initialFollowers:{type:Array,required:!0}},data:function(){return{followers:this.initialFollowers}},watch:{initialFollowers:function(t){this.followers=[].concat(F(this.followers),F(t))}}},j=O,S=Object(p["a"])(j,k,I,!1,null,null,null),$=S.exports,P=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[r("strong",[t._v(t._s(t.comments.length))]),t._v(" 已評論餐廳 ")]),r("div",{staticClass:"card-body"},t._l(t.comments,(function(t){return r("router-link",{key:t.id,attrs:{to:{name:"restaurant",params:{id:t.Restaurant.id}}}},[r("img",{staticClass:"avatar",attrs:{src:t.Restaurant.image,width:"60",height:"60"}})])})),1)])},T=[],q={props:{initialComments:{type:Array,required:!0}},data:function(){return{comments:this.initialComments}},watch:{initialComments:function(t){this.comments=[].concat(F(this.comments),F(t))}}},M=q,N=Object(p["a"])(M,P,T,!1,null,null,null),D=N.exports,K=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[r("strong",[t._v(t._s(t.favoritedRestaurants.length))]),t._v(" 收藏的餐廳 ")]),r("div",{staticClass:"card-body"},t._l(t.favoritedRestaurants,(function(t){return r("router-link",{key:t.id,attrs:{to:{name:"restaurant",params:{id:t.id}}}},[r("img",{staticClass:"avatar",attrs:{src:t.image,width:"60",height:"60"}})])})),1)])},B=[],J={props:{initialFavoritedRestaurants:{type:Array,required:!0}},data:function(){return{favoritedRestaurants:this.initialFavoritedRestaurants}},watch:{initialFavoritedRestaurants:function(t){this.favoritedRestaurants=[].concat(F(this.favoritedRestaurants),F(t))}}},Y=J,z=Object(p["a"])(Y,K,B,!1,null,null,null),G=z.exports,H={components:{UserProfileCard:g,UserFollowingsCard:E,UserFollowersCard:$,UserCommentsCard:D,UserFavoritedRestaurantsCard:G},data:function(){return{user:{id:-1,name:"",email:"",password:"",isAdmin:!1,image:"",createdAt:"",updatedAt:"",Comments:[],FavoritedRestaurants:[],Followers:[],Followings:[],isFollowed:!1}}},methods:{fetchUser:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,i,o,l,c,f,v,p,m,g,h,w,b,x,y;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u["a"].get({userId:t});case 3:a=r.sent,n=a.data,console.log(n),i=n.profile,o=i.id,l=i.name,c=i.email,f=i.password,v=i.isAdmin,p=i.image,m=i.createdAt,g=i.updatedAt,h=i.Comments,w=i.FavoritedRestaurants,b=i.Followers,x=i.Followings,y=n.isFollowed,e.user=Object(s["a"])(Object(s["a"])({},e.user),{},{id:o,name:l,email:c,password:f,isAdmin:v,image:p,createdAt:m,updatedAt:g,Comments:h,FavoritedRestaurants:w,Followers:b,Followings:x,isFollowed:y}),r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](0),d["a"].fire({icon:"error",title:"無法取得使用者資料"});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})))()}},created:function(){var t=this.$route.params.id;this.fetchUser(t)},beforeRouteUpdate:function(t,e,r){var a=t.params.id;this.fetchUser(a),r()}},L=H,Q=Object(p["a"])(L,a,n,!1,null,null,null);e["default"]=Q.exports},"4df4":function(t,e,r){"use strict";var a=r("da84"),n=r("0366"),s=r("c65b"),i=r("7b0b"),o=r("9bdd"),l=r("e95a"),c=r("68ee"),u=r("07fa"),d=r("8418"),f=r("9a1f"),v=r("35a1"),p=a.Array;t.exports=function(t){var e=i(t),r=c(this),a=arguments.length,m=a>1?arguments[1]:void 0,g=void 0!==m;g&&(m=n(m,a>2?arguments[2]:void 0));var h,w,b,x,y,C,_=v(e),F=0;if(!_||this==p&&l(_))for(h=u(e),w=r?new this(h):p(h);h>F;F++)C=g?m(e[F],F):e[F],d(w,F,C);else for(x=f(e,_),y=x.next,w=r?new this:[];!(b=s(y,x)).done;F++)C=g?o(x,m,[b.value,F],!0):b.value,d(w,F,C);return w.length=F,w}},9263:function(t,e,r){"use strict";var a=r("c65b"),n=r("e330"),s=r("577e"),i=r("ad6d"),o=r("9f7f"),l=r("5692"),c=r("7c73"),u=r("69f3").get,d=r("fce3"),f=r("107c"),v=l("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,m=p,g=n("".charAt),h=n("".indexOf),w=n("".replace),b=n("".slice),x=function(){var t=/a/,e=/b*/g;return a(p,t,"a"),a(p,e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),y=o.BROKEN_CARET,C=void 0!==/()??/.exec("")[1],_=x||C||y||d||f;_&&(m=function(t){var e,r,n,o,l,d,f,_=this,F=u(_),R=s(t),A=F.raw;if(A)return A.lastIndex=_.lastIndex,e=a(m,A,R),_.lastIndex=A.lastIndex,e;var U=F.groups,E=y&&_.sticky,k=a(i,_),I=_.source,O=0,j=R;if(E&&(k=w(k,"y",""),-1===h(k,"g")&&(k+="g"),j=b(R,_.lastIndex),_.lastIndex>0&&(!_.multiline||_.multiline&&"\n"!==g(R,_.lastIndex-1))&&(I="(?: "+I+")",j=" "+j,O++),r=new RegExp("^(?:"+I+")",k)),C&&(r=new RegExp("^"+I+"$(?!\\s)",k)),x&&(n=_.lastIndex),o=a(p,E?r:_,j),E?o?(o.input=b(o.input,O),o[0]=b(o[0],O),o.index=_.lastIndex,_.lastIndex+=o[0].length):_.lastIndex=0:x&&o&&(_.lastIndex=_.global?o.index+o[0].length:n),C&&o&&o.length>1&&a(v,o[0],r,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(o[l]=void 0)})),o&&U)for(o.groups=d=c(null),l=0;l<U.length;l++)f=U[l],d[f[0]]=o[f[1]];return o}),t.exports=m},"99af":function(t,e,r){"use strict";var a=r("23e7"),n=r("da84"),s=r("d039"),i=r("e8b5"),o=r("861d"),l=r("7b0b"),c=r("07fa"),u=r("8418"),d=r("65f0"),f=r("1dde"),v=r("b622"),p=r("2d00"),m=v("isConcatSpreadable"),g=9007199254740991,h="Maximum allowed index exceeded",w=n.TypeError,b=p>=51||!s((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),x=f("concat"),y=function(t){if(!o(t))return!1;var e=t[m];return void 0!==e?!!e:i(t)},C=!b||!x;a({target:"Array",proto:!0,forced:C},{concat:function(t){var e,r,a,n,s,i=l(this),o=d(i,0),f=0;for(e=-1,a=arguments.length;e<a;e++)if(s=-1===e?i:arguments[e],y(s)){if(n=c(s),f+n>g)throw w(h);for(r=0;r<n;r++,f++)r in s&&u(o,f,s[r])}else{if(f>=g)throw w(h);u(o,f++,s)}return o.length=f,o}})},"9bdd":function(t,e,r){var a=r("825a"),n=r("2a62");t.exports=function(t,e,r,s){try{return s?e(a(r)[0],r[1]):e(r)}catch(i){n(t,"throw",i)}}},"9f7f":function(t,e,r){var a=r("d039"),n=r("da84"),s=n.RegExp,i=a((function(){var t=s("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),o=i||a((function(){return!s("a","y").sticky})),l=i||a((function(){var t=s("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:l,MISSED_STICKY:o,UNSUPPORTED_Y:i}},a630:function(t,e,r){var a=r("23e7"),n=r("4df4"),s=r("1c7e"),i=!s((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:i},{from:n})},ac1f:function(t,e,r){"use strict";var a=r("23e7"),n=r("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},d28b:function(t,e,r){var a=r("746f");a("iterator")},e01a:function(t,e,r){"use strict";var a=r("23e7"),n=r("83ab"),s=r("da84"),i=r("e330"),o=r("1a2d"),l=r("1626"),c=r("3a9b"),u=r("577e"),d=r("9bf2").f,f=r("e893"),v=s.Symbol,p=v&&v.prototype;if(n&&l(v)&&(!("description"in p)||void 0!==v().description)){var m={},g=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),e=c(p,this)?new v(t):void 0===t?v():v(t);return""===t&&(m[e]=!0),e};f(g,v),g.prototype=p,p.constructor=g;var h="Symbol(test)"==String(v("test")),w=i(p.toString),b=i(p.valueOf),x=/^Symbol\((.*)\)[^)]+$/,y=i("".replace),C=i("".slice);d(p,"description",{configurable:!0,get:function(){var t=b(this),e=w(t);if(o(m,t))return"";var r=h?C(e,7,-1):y(e,x,"$1");return""===r?void 0:r}}),a({global:!0,forced:!0},{Symbol:g})}},fb6a:function(t,e,r){"use strict";var a=r("23e7"),n=r("da84"),s=r("e8b5"),i=r("68ee"),o=r("861d"),l=r("23cb"),c=r("07fa"),u=r("fc6a"),d=r("8418"),f=r("b622"),v=r("1dde"),p=r("f36a"),m=v("slice"),g=f("species"),h=n.Array,w=Math.max;a({target:"Array",proto:!0,forced:!m},{slice:function(t,e){var r,a,n,f=u(this),v=c(f),m=l(t,v),b=l(void 0===e?v:e,v);if(s(f)&&(r=f.constructor,i(r)&&(r===h||s(r.prototype))?r=void 0:o(r)&&(r=r[g],null===r&&(r=void 0)),r===h||void 0===r))return p(f,m,b);for(a=new(void 0===r?h:r)(w(b-m,0)),n=0;m<b;m++,n++)m in f&&d(a,n,f[m]);return a.length=n,a}})},fce3:function(t,e,r){var a=r("d039"),n=r("da84"),s=n.RegExp;t.exports=a((function(){var t=s(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))}}]);
//# sourceMappingURL=chunk-757b672c.5b3dbd14.js.map